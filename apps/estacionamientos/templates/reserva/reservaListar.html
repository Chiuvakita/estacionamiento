{% extends "base.html" %}
{% block title %}Lista de Reservas{% endblock %}
{% block content %}
  <h1>Lista de Reservas</h1>

  <div class="card">
    <table>
      <tr>
        <th>ID</th>
        <th>Patente</th>
        <th>Estacionamiento</th>
        <th>Inicio</th>
        <th>TÃ©rmino</th>
        <th>Acciones</th>
      </tr>
      {% for r in reservas %}
      <tr>
        <td>{{ r.id }}</td>
        <td>{{ r.patente }}</td>
        <td>{{ r.estacionamiento_id }}</td>
        <td>{{ r.fechaInicio }}</td>
        <td>{{ r.fechaTermino|default:"-" }}</td>
        <td>
          {% if not r.fechaTermino %}
            <a href="{% url 'reserva_terminar' r.id %}" class="button">Terminar</a>
          {% else %}
            Finalizada
          {% endif %}
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="6">No hay reservas registradas.</td>
      </tr>
      {% endfor %}
    </table>
  </div>

  <div class="actions">
    <a href="{% url 'reserva_crear' %}" class="button">Crear Reserva</a>
    <a href="{% url 'estacionamientos_listar' %}" class="button">Volver a Estacionamientos</a>
  </div>
{% endblock %}
